<!DOCTYPE html>
<!--https://kodocode.net/design-css-textbox/ -->
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>TWV Accounts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="./swiper-min.css" />
	<link rel="stylesheet" href="./login.css" type="text/css">

  <!-- Demo styles -->
  
</head>
<body>
	
  <!-- Swiper JS -->
  <script src="./swiper-min.js"></script>
	<script src="./general.js"></script>
	<script src="./page.js"></script>
  
	
	
	<script type="module">
		import {history_event} from "./load_event.js"
		//jump_to_page(mode_to_page((new URL(location.href)).searchParams.get("mode")))
		window.addEventListener("popstate",history_event)
		history_event()
	</script>
	<script>
	</script>
	<div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"> 
				<div>
					
					<label class="title_main" type="text" style="color:#1A73E8;">Sign in</label>
					<label class="title_text" type="text">Use your Account. Please type your username.</label>
					<label class="title_text" type="text" style="color:#1A73E8;text-decoration:underline;" onclick="jump_to_page(5)">Create Account</label>
					<label class="warning" type="text" id="login_username_warning"></label>
					<form onsubmit="return false;">
					<input class="input_box" type="username" id="login_username" value="USERNAME"></input>
					<button class="input_next" type="submit" id="login_username_next">Next</button>
					</form>
				</div>
				<script>
				</script>
			</div>
      <div class="swiper-slide">
				<div>
					
					<label class="title_main" type="text" style="color:#1A73E8;">Sign in</label>
					<label class="title_text" type="text">Welcome <span id="login_password_title_text" style="font-weight:bold;text-decoration:underline;">username</span>. Please type your password.</label>
					<label class="title_text" type="text" style="color:#1A73E8;" onclick="jump_to_page(5)">Password</label>
					<label class="warning" type="text" id="login_password_warning"></label>
					<form onsubmit="return false;">
					<input class="input_box" type="password" id="login_password" value=""></input>
					<button class="input_next" type="submit" id="login_password_next">Next</button>
					</form>
				</div>
			</div>
      <div class="swiper-slide">
				<div>
					<label class="title_main" type="text" style="color:#1A73E8;font-style:italic;text-shadow: 1px 1px 2px silver;">Tokyo Wonder Vogel Club</label>
				</div>
			</div>
      <div class="swiper-slide">Slide 5</div>
      <div class="swiper-slide">Slide 6</div>
      <div class="swiper-slide">Slide 7</div>
      <div class="swiper-slide">Slide 8</div>
      <div class="swiper-slide">Slide 9</div>
    </div>
    <div class="swiper-button-prev" id="swiper_button_prev" style="display:none;"></div>
    <div class="swiper-button-next" id="swiper_button_next" style="display:none;"></div>
  </div>
	<script>
		var swiper = new Swiper(".mySwiper", {
			effect: "cards",
			//grabCursor: true,
			initialSlide :0,
			allowSlideNext: true,
			allowSlidePrev: true,
			allowTouchMove:false,
			speed:1500,
			navigation: {
				nextEl: ".swiper-button-next",
				prevEl: ".swiper-button-prev",
			},
			freeMode: false,
			shortSwipes: false,
			longSwipes: false
		});
		swiper.slideTo(2,1500,false)
	</script>
	<script type="module">
	import {irregular_jump} from "./jump_page.js"
	swiper.on('reachBeginning',irregular_jump);
	</script>
  <script type="module">
		import {change_query,history_event} from "./load_event.js"
		document.getElementById("login_username").addEventListener("input",change_length);
		document.getElementById("login_username").addEventListener("focus",change_length);
		document.getElementById("login_username").addEventListener("focus",display_box_next);
		document.getElementById("login_username").addEventListener("input",check_string_box);
		document.getElementById("login_username").addEventListener("focus",check_string_box);
		function login_username_next_func(){
			if(check_string(document.getElementById("login_username").value)){
				if(document.getElementById("login_username").value==""){
					document.getElementById("login_username_warning").textContent ="Username should not be blank";
					document.getElementById("login_username").style.border="3px solid rgb(217,48,37)";
					return false
				}
				let currentURL=new URL(location.href)
				history.pushState(null,null,change_query(currentURL.href,{mode:"login_password",username:document.getElementById("login_username").value}))
				document.getElementById("login_password_title_text").textContent=document.getElementById("login_username").value
				document.getElementById("login_password_warning").textContent=""
				history_event()
			}else{
				document.getElementById("login_username_warning").textContent ="Only alphabets, numbers and underbar is allowed";
				document.getElementById("login_username").style.border="3px solid rgb(217,48,37)";
				return false;
			}
		}
		document.getElementById("login_username_next").addEventListener("click",login_username_next_func);
		
  </script>
	
	
  <script type="module">
		import {change_query,history_event} from "./load_event.js"
		document.getElementById("login_password").addEventListener("input",change_length);
		document.getElementById("login_password").addEventListener("focus",change_length);
		document.getElementById("login_password").addEventListener("focus",display_box_next);
		document.getElementById("login_password").addEventListener("input",check_string_box);
		document.getElementById("login_password").addEventListener("focus",check_string_box);
		function login_password_next_func(){
			if(check_string(document.getElementById("login_password").value)){
				let currentURL=new URL(location.href)
				history.replaceState(null,null,change_query(currentURL.href,{mode:"login_try"}))
				history_event()
			}else{
				document.getElementById("login_username_warning").textContent ="Only alphabets, numbers and underbar is allowed";
				document.getElementById("login_username").style.border="3px solid rgb(217,48,37)";
				return false;
			}
		}
		document.getElementById("login_password_next").addEventListener("click",login_password_next_func);
		
  </script>
	
</body>

</html>
